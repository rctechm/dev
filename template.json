{
    "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "sshPublicKeys_vm_client2_s_ie_name": {
            "defaultValue": "vm-client2-s-ie",
            "type": "String"
        },
        "sshPublicKeys_vm_client3_s_ie_name": {
            "defaultValue": "vm-client3-s-ie",
            "type": "String"
        },
        "virtualMachines_vm_client1_s_ie_name": {
            "defaultValue": "vm-client1-s-ie",
            "type": "String"
        },
        "virtualMachines_vm_client2_s_ie_name": {
            "defaultValue": "vm-client2-s-ie",
            "type": "String"
        },
        "virtualMachines_vm_client3_s_ie_name": {
            "defaultValue": "vm-client3-s-ie",
            "type": "String"
        },
        "virtualMachines_vm_client4_s_ie_name": {
            "defaultValue": "vm-client4-s-ie",
            "type": "String"
        },
        "sshPublicKeys_vm_client1_s_ie_key_name": {
            "defaultValue": "vm-client1-s-ie_key",
            "type": "String"
        },
        "virtualMachines_vm_fortigate1_s_ie_name": {
            "defaultValue": "vm-fortigate1-s-ie",
            "type": "String"
        },
        "virtualMachines_vm_fortigate2_s_ie_name": {
            "defaultValue": "vm-fortigate2-s-ie",
            "type": "String"
        },
        "virtualMachines_vm_fortigate3_s_ie_name": {
            "defaultValue": "vm-fortigate3-s-ie",
            "type": "String"
        },
        "networkInterfaces_vm_client3_s_ie26_name": {
            "defaultValue": "vm-client3-s-ie26",
            "type": "String"
        },
        "networkInterfaces_vm_client1_s_ie268_name": {
            "defaultValue": "vm-client1-s-ie268",
            "type": "String"
        },
        "networkInterfaces_vm_client2_s_ie436_name": {
            "defaultValue": "vm-client2-s-ie436",
            "type": "String"
        },
        "networkInterfaces_vm_client4_s_ie401_name": {
            "defaultValue": "vm-client4-s-ie401",
            "type": "String"
        },
        "storageAccounts_consoleo4od7ut2sttkk_name": {
            "defaultValue": "consoleo4od7ut2sttkk",
            "type": "String"
        },
        "publicIPAddresses_pip_fortigate1_s_ie_name": {
            "defaultValue": "pip-fortigate1-s-ie",
            "type": "String"
        },
        "publicIPAddresses_pip_fortigate2_s_ie_name": {
            "defaultValue": "pip-fortigate2-s-ie",
            "type": "String"
        },
        "publicIPAddresses_pip_fortigate3_s_ie_name": {
            "defaultValue": "pip-fortigate3-s-ie",
            "type": "String"
        },
        "networkInterfaces_vm_client4_s_ie_Nic2_name": {
            "defaultValue": "vm-client4-s-ie-Nic2",
            "type": "String"
        },
        "networkSecurityGroups_nsg_fortigate_s_ie_name": {
            "defaultValue": "nsg-fortigate-s-ie",
            "type": "String"
        },
        "networkSecurityGroups_vmclient4siensg912_name": {
            "defaultValue": "vmclient4siensg912",
            "type": "String"
        },
        "networkInterfaces_vm_fortigate1_s_ie_Nic1_name": {
            "defaultValue": "vm-fortigate1-s-ie-Nic1",
            "type": "String"
        },
        "networkInterfaces_vm_fortigate1_s_ie_Nic2_name": {
            "defaultValue": "vm-fortigate1-s-ie-Nic2",
            "type": "String"
        },
        "networkInterfaces_vm_fortigate2_s_ie_Nic1_name": {
            "defaultValue": "vm-fortigate2-s-ie-Nic1",
            "type": "String"
        },
        "networkInterfaces_vm_fortigate2_s_ie_Nic2_name": {
            "defaultValue": "vm-fortigate2-s-ie-Nic2",
            "type": "String"
        },
        "networkInterfaces_vm_fortigate3_s_ie_Nic1_name": {
            "defaultValue": "vm-fortigate3-s-ie-Nic1",
            "type": "String"
        },
        "networkInterfaces_vm_fortigate3_s_ie_Nic2_name": {
            "defaultValue": "vm-fortigate3-s-ie-Nic2",
            "type": "String"
        },
        "networkSecurityGroups_vm_client1_s_ie_nsg_name": {
            "defaultValue": "vm-client1-s-ie-nsg",
            "type": "String"
        },
        "networkSecurityGroups_vm_client4_s_ie_nsg_name": {
            "defaultValue": "vm-client4-s-ie-nsg",
            "type": "String"
        },
        "networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name": {
            "defaultValue": "fgt-o4od7ut2sttkk-NSG",
            "type": "String"
        },
        "sqlVirtualMachines_vm_client4_s_ie_name": {
            "defaultValue": "vm-client4-s-ie",
            "type": "String"
        },
        "routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name": {
            "defaultValue": "fgt-RouteTable-sn-fortigate1int-s-ie",
            "type": "String"
        },
        "routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name": {
            "defaultValue": "fgt-RouteTable-sn-fortigate1protect-s-ie",
            "type": "String"
        },
        "virtualNetworks_vnet_infra_s_ie_externalid": {
            "defaultValue": "/subscriptions/f855ddd4-10ba-44df-a4a0-70bed9c50b88/resourceGroups/rg-infra-s-ie/providers/Microsoft.Network/virtualNetworks/vnet-infra-s-ie",
            "type": "String"
        }
    },
    "variables": {},
    "resources": [
        {
            "type": "Microsoft.Compute/sshPublicKeys",
            "apiVersion": "2023-03-01",
            "name": "[parameters('sshPublicKeys_vm_client1_s_ie_key_name')]",
            "location": "northeurope",
            "properties": {
                "publicKey": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDbmPPYZvo57j9Y8HyhodRcX89fEv2D7ljGQ7cH+wbzrI48SQ/v+JL+cm+CNNZCXIKb/Yp3/tcZT/UTcv+1Nj0erTMaCmK8F46JutEJ9k7aoL3xLAn0JD0JqMhw6Y2bpT7lY0hJ4qEr3G8b9LO343EfGi3V1e5IMYDZFu/SN6cP9ZU5BduyBR02iytsoyBFiTpoGwI7Bw6fx8LXRb/NhN4KgQ/rujvKdShSy39pC4MXKFez1XPEUt1kWDISy9oJCPnOm59Ypo/u+X5R4zkc/oIxTNAnhRCnu13TpoWMwwIRWBY91Nw0a5UeZWJrXywrJYduFKR7qcNaZLw9AqZcum4lNAr5mbzRHa2qouf0ts9shf2VGlP+vTORCQtaw0FSXt9ZbiGWxRQ19gmWOOGPMAAvNTAf+U2gSHJM0+ickOj4z+prBb78wOjTnZ2WHRHAEWTE9jLWHRLMEFlqyea/FA8kYa1BPtj8E0R7+OuqTziTdRX3bgXHf2gi4wam4vWOESk= generated-by-azure"
            }
        },
        {
            "type": "Microsoft.Compute/sshPublicKeys",
            "apiVersion": "2023-03-01",
            "name": "[parameters('sshPublicKeys_vm_client2_s_ie_name')]",
            "location": "northeurope",
            "properties": {
                "publicKey": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDIC8sdXWMx5t84X54J0g2G4RtvP0fXSqP8vsoGE1a6eyaB6w/KKkxunm9EwHoAaBzEjvfNoGb/T0K/bJ6+cKl4AYoRnt79eHMOwfvSO3enVORMdb8XDhI8a67A9Loq4fllV+9OJffemRmDHVYD/SjPAcLowCdI1I1bonlGCMitAKW61V0VPK952QDoZXCwchUcDWQQzKoWvazHfhuUXcuzJu6PL5pwoY8c0qMfYGNJfIKJKX/l5+9pHth9lLo5byDM0LYuEVgKHpweRaMoiGjdoo2ukzRKaXnJR/Mx0VrQR0S8QhI8X5eM7joboGAb0PwlYFRpl4/8xHcUf5n2+arWqbaLOJypIa0V65NBAeZsKAzTwqTU+VGWU46My/jwc1EdvOAJtpMW8eBFSHhd1Jzgnhfzzk6PE+QklAtlxAq2y6xuSnTNi17wAods0jqFyPpCklXSp2OBgiBMPJr323zDVJtV+5+pi2zWLleUTGgMnPoJDKGqfIeoWtbdiOsWPrk= generated-by-azure"
            }
        },
        {
            "type": "Microsoft.Compute/sshPublicKeys",
            "apiVersion": "2023-03-01",
            "name": "[parameters('sshPublicKeys_vm_client3_s_ie_name')]",
            "location": "northeurope",
            "properties": {
                "publicKey": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDHisUAUa77lJcuuf5Vtnf7SGw9B8dnD7MlVmhW2zvnXQOHIoWsxYPIKZISVbnWJA8Hhv1P9pX1+okBgl7//iE9zEfg49vG1qCUegu3qyR2iHgSgdoepfhj2drDFcZCJ4jeN2sUOdlyiwBG7hdf7RXe6hBoCuC74C1zu387chNsNxGspG1sXVTyNpPAwd614s45UD32kjuxrg7aaGyALDwKdvc0/J/A3rd8WQ2+HZkVBSb2mVx67cnQMjLgFIbfFGuOsKY6g6U8kdY6O2ZMLAfr+zeetYUyMyXoY0B6P4qcfGLP7uec/2IQyjvgzsQj+hixHhpgPtxWkhnDpA13RYZhjTGiuax7STkP9DbFx6tiKEg3/+s2EaNrCC8b7vO9p7L/9+blrhQ1de2mhdwADOr8J5rK1cv5O5jjhH9ucOj8sss7kIPARyHdK4OcPPLe9oZ5PjfEX+nJ2lK28ppq8d6i6WIMgFvMhKrWjBZdLq/qVfpgTNUa3uVYqqa2hIrXTsE= generated-by-azure"
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name')]",
            "location": "northeurope",
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "properties": {
                "securityRules": [
                    {
                        "name": "AllowAllInbound",
                        "id": "[resourceId('Microsoft.Network/networkSecurityGroups/securityRules', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'), 'AllowAllInbound')]",
                        "type": "Microsoft.Network/networkSecurityGroups/securityRules",
                        "properties": {
                            "description": "Allow all in",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 100,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    },
                    {
                        "name": "AllowAllOutbound",
                        "id": "[resourceId('Microsoft.Network/networkSecurityGroups/securityRules', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'), 'AllowAllOutbound')]",
                        "type": "Microsoft.Network/networkSecurityGroups/securityRules",
                        "properties": {
                            "description": "Allow all out",
                            "protocol": "*",
                            "sourcePortRange": "*",
                            "destinationPortRange": "*",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 105,
                            "direction": "Outbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkSecurityGroups_nsg_fortigate_s_ie_name')]",
            "location": "northeurope",
            "properties": {
                "securityRules": []
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkSecurityGroups_vm_client1_s_ie_nsg_name')]",
            "location": "northeurope",
            "properties": {
                "securityRules": [
                    {
                        "name": "SSH",
                        "id": "[resourceId('Microsoft.Network/networkSecurityGroups/securityRules', parameters('networkSecurityGroups_vm_client1_s_ie_nsg_name'), 'SSH')]",
                        "type": "Microsoft.Network/networkSecurityGroups/securityRules",
                        "properties": {
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "22",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 300,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkSecurityGroups_vm_client4_s_ie_nsg_name')]",
            "location": "northeurope",
            "properties": {
                "securityRules": [
                    {
                        "name": "RDP",
                        "id": "[resourceId('Microsoft.Network/networkSecurityGroups/securityRules', parameters('networkSecurityGroups_vm_client4_s_ie_nsg_name'), 'RDP')]",
                        "type": "Microsoft.Network/networkSecurityGroups/securityRules",
                        "properties": {
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "3389",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 300,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkSecurityGroups_vmclient4siensg912_name')]",
            "location": "northeurope",
            "properties": {
                "securityRules": [
                    {
                        "name": "RDP",
                        "id": "[resourceId('Microsoft.Network/networkSecurityGroups/securityRules', parameters('networkSecurityGroups_vmclient4siensg912_name'), 'RDP')]",
                        "type": "Microsoft.Network/networkSecurityGroups/securityRules",
                        "properties": {
                            "protocol": "TCP",
                            "sourcePortRange": "*",
                            "destinationPortRange": "3389",
                            "sourceAddressPrefix": "*",
                            "destinationAddressPrefix": "*",
                            "access": "Allow",
                            "priority": 300,
                            "direction": "Inbound",
                            "sourcePortRanges": [],
                            "destinationPortRanges": [],
                            "sourceAddressPrefixes": [],
                            "destinationAddressPrefixes": []
                        }
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/publicIPAddresses",
            "apiVersion": "2022-11-01",
            "name": "[parameters('publicIPAddresses_pip_fortigate1_s_ie_name')]",
            "location": "northeurope",
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "sku": {
                "name": "Basic",
                "tier": "Regional"
            },
            "properties": {
                "ipAddress": "20.166.29.23",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Static",
                "idleTimeoutInMinutes": 4,
                "dnsSettings": {
                    "domainNameLabel": "vm-fortigate1-s-ie-o4od7ut2sttkk",
                    "fqdn": "vm-fortigate1-s-ie-o4od7ut2sttkk.northeurope.cloudapp.azure.com"
                },
                "ipTags": []
            }
        },
        {
            "type": "Microsoft.Network/publicIPAddresses",
            "apiVersion": "2022-11-01",
            "name": "[parameters('publicIPAddresses_pip_fortigate2_s_ie_name')]",
            "location": "northeurope",
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "sku": {
                "name": "Basic",
                "tier": "Regional"
            },
            "properties": {
                "ipAddress": "20.166.121.80",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Static",
                "idleTimeoutInMinutes": 4,
                "dnsSettings": {
                    "domainNameLabel": "vm-fortigate2-s-ie-o4od7ut2sttkk",
                    "fqdn": "vm-fortigate2-s-ie-o4od7ut2sttkk.northeurope.cloudapp.azure.com"
                },
                "ipTags": []
            }
        },
        {
            "type": "Microsoft.Network/publicIPAddresses",
            "apiVersion": "2022-11-01",
            "name": "[parameters('publicIPAddresses_pip_fortigate3_s_ie_name')]",
            "location": "northeurope",
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "sku": {
                "name": "Basic",
                "tier": "Regional"
            },
            "properties": {
                "ipAddress": "13.69.196.50",
                "publicIPAddressVersion": "IPv4",
                "publicIPAllocationMethod": "Static",
                "idleTimeoutInMinutes": 4,
                "dnsSettings": {
                    "domainNameLabel": "vm-fortigate3-s-ie-o4od7ut2sttkk",
                    "fqdn": "vm-fortigate3-s-ie-o4od7ut2sttkk.northeurope.cloudapp.azure.com"
                },
                "ipTags": []
            }
        },
        {
            "type": "Microsoft.Network/routeTables",
            "apiVersion": "2022-11-01",
            "name": "[parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name')]",
            "location": "northeurope",
            "properties": {
                "disableBgpRoutePropagation": false,
                "routes": [
                    {
                        "name": "Default",
                        "id": "[resourceId('Microsoft.Network/routeTables/routes', parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name'), 'Default')]",
                        "properties": {
                            "addressPrefix": "0.0.0.0/0",
                            "nextHopType": "VirtualAppliance",
                            "nextHopIpAddress": "10.207.176.20",
                            "hasBgpOverride": false
                        },
                        "type": "Microsoft.Network/routeTables/routes"
                    },
                    {
                        "name": "Subnet",
                        "id": "[resourceId('Microsoft.Network/routeTables/routes', parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name'), 'Subnet')]",
                        "properties": {
                            "addressPrefix": "10.207.176.16/29",
                            "nextHopType": "VirtualAppliance",
                            "nextHopIpAddress": "10.207.176.20",
                            "hasBgpOverride": false
                        },
                        "type": "Microsoft.Network/routeTables/routes"
                    },
                    {
                        "name": "Subnet2",
                        "id": "[resourceId('Microsoft.Network/routeTables/routes', parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name'), 'Subnet2')]",
                        "properties": {
                            "addressPrefix": "10.207.176.40/29",
                            "nextHopType": "VirtualAppliance",
                            "nextHopIpAddress": "10.207.176.20",
                            "hasBgpOverride": false
                        },
                        "type": "Microsoft.Network/routeTables/routes"
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Network/routeTables",
            "apiVersion": "2022-11-01",
            "name": "[parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name')]",
            "location": "northeurope",
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "properties": {
                "disableBgpRoutePropagation": false,
                "routes": [
                    {
                        "name": "VirtualNetwork",
                        "id": "[resourceId('Microsoft.Network/routeTables/routes', parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name'), 'VirtualNetwork')]",
                        "properties": {
                            "addressPrefix": "10.207.176.0/20",
                            "nextHopType": "VirtualAppliance",
                            "nextHopIpAddress": "10.207.176.37",
                            "hasBgpOverride": false
                        },
                        "type": "Microsoft.Network/routeTables/routes"
                    },
                    {
                        "name": "Subnet",
                        "id": "[resourceId('Microsoft.Network/routeTables/routes', parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name'), 'Subnet')]",
                        "properties": {
                            "addressPrefix": "10.207.176.48/29",
                            "nextHopType": "VnetLocal",
                            "hasBgpOverride": false
                        },
                        "type": "Microsoft.Network/routeTables/routes"
                    },
                    {
                        "name": "Default",
                        "id": "[resourceId('Microsoft.Network/routeTables/routes', parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name'), 'Default')]",
                        "properties": {
                            "addressPrefix": "0.0.0.0/0",
                            "nextHopType": "VirtualAppliance",
                            "nextHopIpAddress": "10.207.176.37",
                            "hasBgpOverride": false
                        },
                        "type": "Microsoft.Network/routeTables/routes"
                    }
                ]
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts",
            "apiVersion": "2022-09-01",
            "name": "[parameters('storageAccounts_consoleo4od7ut2sttkk_name')]",
            "location": "northeurope",
            "sku": {
                "name": "Standard_LRS",
                "tier": "Standard"
            },
            "kind": "Storage",
            "properties": {
                "minimumTlsVersion": "TLS1_0",
                "allowBlobPublicAccess": true,
                "networkAcls": {
                    "bypass": "AzureServices",
                    "virtualNetworkRules": [],
                    "ipRules": [],
                    "defaultAction": "Allow"
                },
                "supportsHttpsTrafficOnly": true,
                "encryption": {
                    "services": {
                        "file": {
                            "keyType": "Account",
                            "enabled": true
                        },
                        "blob": {
                            "keyType": "Account",
                            "enabled": true
                        }
                    },
                    "keySource": "Microsoft.Storage"
                }
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "2023-03-01",
            "name": "[parameters('virtualMachines_vm_client1_s_ie_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client1_s_ie268_name'))]"
            ],
            "identity": {
                "type": "SystemAssigned"
            },
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_A1_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "canonical",
                        "offer": "0001-com-ubuntu-server-focal",
                        "sku": "20_04-lts",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Linux",
                        "name": "[concat(parameters('virtualMachines_vm_client1_s_ie_name'), '_OsDisk_1_0e0209dfe846427d83ca593b49a1a11d')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_client1_s_ie_name'), '_OsDisk_1_0e0209dfe846427d83ca593b49a1a11d'))]"
                        },
                        "deleteOption": "Delete"
                    },
                    "dataDisks": [
                        {
                            "lun": 0,
                            "name": "[concat(parameters('virtualMachines_vm_client1_s_ie_name'), '_DataDisk_1')]",
                            "createOption": "Attach",
                            "caching": "ReadOnly",
                            "writeAcceleratorEnabled": false,
                            "managedDisk": {
                                "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_client1_s_ie_name'), '_DataDisk_1'))]"
                            },
                            "deleteOption": "Detach",
                            "toBeDetached": false
                        }
                    ]
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_vm_client1_s_ie_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDbmPPYZvo57j9Y8HyhodRcX89fEv2D7ljGQ7cH+wbzrI48SQ/v+JL+cm+CNNZCXIKb/Yp3/tcZT/UTcv+1Nj0erTMaCmK8F46JutEJ9k7aoL3xLAn0JD0JqMhw6Y2bpT7lY0hJ4qEr3G8b9LO343EfGi3V1e5IMYDZFu/SN6cP9ZU5BduyBR02iytsoyBFiTpoGwI7Bw6fx8LXRb/NhN4KgQ/rujvKdShSy39pC4MXKFez1XPEUt1kWDISy9oJCPnOm59Ypo/u+X5R4zkc/oIxTNAnhRCnu13TpoWMwwIRWBY91Nw0a5UeZWJrXywrJYduFKR7qcNaZLw9AqZcum4lNAr5mbzRHa2qouf0ts9shf2VGlP+vTORCQtaw0FSXt9ZbiGWxRQ19gmWOOGPMAAvNTAf+U2gSHJM0+ickOj4z+prBb78wOjTnZ2WHRHAEWTE9jLWHRLMEFlqyea/FA8kYa1BPtj8E0R7+OuqTziTdRX3bgXHf2gi4wam4vWOESk= generated-by-azure"
                                }
                            ]
                        },
                        "provisionVMAgent": true,
                        "patchSettings": {
                            "patchMode": "ImageDefault",
                            "assessmentMode": "ImageDefault"
                        },
                        "enableVMAgentPlatformUpdates": false
                    },
                    "secrets": [],
                    "allowExtensionOperations": true,
                    "requireGuestProvisionSignal": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client1_s_ie268_name'))]",
                            "properties": {
                                "deleteOption": "Detach"
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true
                    }
                }
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "2023-03-01",
            "name": "[parameters('virtualMachines_vm_client2_s_ie_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client2_s_ie436_name'))]"
            ],
            "identity": {
                "type": "SystemAssigned"
            },
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_A1_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "canonical",
                        "offer": "0001-com-ubuntu-server-focal",
                        "sku": "20_04-lts",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Linux",
                        "name": "[concat(parameters('virtualMachines_vm_client2_s_ie_name'), '_OsDisk_1_c2ae22bad5984491be951b37b5bcbf44')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_client2_s_ie_name'), '_OsDisk_1_c2ae22bad5984491be951b37b5bcbf44'))]"
                        },
                        "deleteOption": "Delete"
                    },
                    "dataDisks": [
                        {
                            "lun": 0,
                            "name": "[concat(parameters('virtualMachines_vm_client2_s_ie_name'), '_DataDisk_1')]",
                            "createOption": "Attach",
                            "caching": "ReadOnly",
                            "writeAcceleratorEnabled": false,
                            "managedDisk": {
                                "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_client2_s_ie_name'), '_DataDisk_1'))]"
                            },
                            "deleteOption": "Detach",
                            "toBeDetached": false
                        }
                    ]
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_vm_client2_s_ie_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDIC8sdXWMx5t84X54J0g2G4RtvP0fXSqP8vsoGE1a6eyaB6w/KKkxunm9EwHoAaBzEjvfNoGb/T0K/bJ6+cKl4AYoRnt79eHMOwfvSO3enVORMdb8XDhI8a67A9Loq4fllV+9OJffemRmDHVYD/SjPAcLowCdI1I1bonlGCMitAKW61V0VPK952QDoZXCwchUcDWQQzKoWvazHfhuUXcuzJu6PL5pwoY8c0qMfYGNJfIKJKX/l5+9pHth9lLo5byDM0LYuEVgKHpweRaMoiGjdoo2ukzRKaXnJR/Mx0VrQR0S8QhI8X5eM7joboGAb0PwlYFRpl4/8xHcUf5n2+arWqbaLOJypIa0V65NBAeZsKAzTwqTU+VGWU46My/jwc1EdvOAJtpMW8eBFSHhd1Jzgnhfzzk6PE+QklAtlxAq2y6xuSnTNi17wAods0jqFyPpCklXSp2OBgiBMPJr323zDVJtV+5+pi2zWLleUTGgMnPoJDKGqfIeoWtbdiOsWPrk= generated-by-azure"
                                }
                            ]
                        },
                        "provisionVMAgent": true,
                        "patchSettings": {
                            "patchMode": "ImageDefault",
                            "assessmentMode": "ImageDefault"
                        },
                        "enableVMAgentPlatformUpdates": false
                    },
                    "secrets": [],
                    "allowExtensionOperations": true,
                    "requireGuestProvisionSignal": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client2_s_ie436_name'))]",
                            "properties": {
                                "deleteOption": "Detach"
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true
                    }
                }
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "2023-03-01",
            "name": "[parameters('virtualMachines_vm_client3_s_ie_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client3_s_ie26_name'))]"
            ],
            "identity": {
                "type": "SystemAssigned"
            },
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_A1_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "canonical",
                        "offer": "0001-com-ubuntu-server-focal",
                        "sku": "20_04-lts",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Linux",
                        "name": "[concat(parameters('virtualMachines_vm_client3_s_ie_name'), '_OsDisk_1_1869faf066c843f9927670da4babd081')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_client3_s_ie_name'), '_OsDisk_1_1869faf066c843f9927670da4babd081'))]"
                        },
                        "deleteOption": "Delete"
                    },
                    "dataDisks": [
                        {
                            "lun": 0,
                            "name": "[concat(parameters('virtualMachines_vm_client3_s_ie_name'), '_DataDisk_1')]",
                            "createOption": "Attach",
                            "caching": "ReadOnly",
                            "writeAcceleratorEnabled": false,
                            "managedDisk": {
                                "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_client3_s_ie_name'), '_DataDisk_1'))]"
                            },
                            "deleteOption": "Detach",
                            "toBeDetached": false
                        }
                    ]
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_vm_client3_s_ie_name')]",
                    "adminUsername": "azureuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": true,
                        "ssh": {
                            "publicKeys": [
                                {
                                    "path": "/home/azureuser/.ssh/authorized_keys",
                                    "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDHisUAUa77lJcuuf5Vtnf7SGw9B8dnD7MlVmhW2zvnXQOHIoWsxYPIKZISVbnWJA8Hhv1P9pX1+okBgl7//iE9zEfg49vG1qCUegu3qyR2iHgSgdoepfhj2drDFcZCJ4jeN2sUOdlyiwBG7hdf7RXe6hBoCuC74C1zu387chNsNxGspG1sXVTyNpPAwd614s45UD32kjuxrg7aaGyALDwKdvc0/J/A3rd8WQ2+HZkVBSb2mVx67cnQMjLgFIbfFGuOsKY6g6U8kdY6O2ZMLAfr+zeetYUyMyXoY0B6P4qcfGLP7uec/2IQyjvgzsQj+hixHhpgPtxWkhnDpA13RYZhjTGiuax7STkP9DbFx6tiKEg3/+s2EaNrCC8b7vO9p7L/9+blrhQ1de2mhdwADOr8J5rK1cv5O5jjhH9ucOj8sss7kIPARyHdK4OcPPLe9oZ5PjfEX+nJ2lK28ppq8d6i6WIMgFvMhKrWjBZdLq/qVfpgTNUa3uVYqqa2hIrXTsE= generated-by-azure"
                                }
                            ]
                        },
                        "provisionVMAgent": true,
                        "patchSettings": {
                            "patchMode": "ImageDefault",
                            "assessmentMode": "ImageDefault"
                        },
                        "enableVMAgentPlatformUpdates": false
                    },
                    "secrets": [],
                    "allowExtensionOperations": true,
                    "requireGuestProvisionSignal": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client3_s_ie26_name'))]",
                            "properties": {
                                "deleteOption": "Detach"
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true
                    }
                }
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_client1_s_ie268_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_nsg_fortigate_s_ie_name'))]"
            ],
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client1_s_ie268_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"814db3f1-7fb3-4fad-8aec-31c6dee55cd4\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.21",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigate1int-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_nsg_fortigate_s_ie_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_client2_s_ie436_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_nsg_fortigate_s_ie_name'))]"
            ],
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client2_s_ie436_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"ade60096-604c-44ac-8755-ce6baf897e27\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.28",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigate2int-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_nsg_fortigate_s_ie_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_client3_s_ie26_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_nsg_fortigate_s_ie_name'))]"
            ],
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client3_s_ie26_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"b2f8889c-e8fc-4127-8926-226d6593da51\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.36",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigate3int-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_nsg_fortigate_s_ie_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_client4_s_ie401_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_vmclient4siensg912_name'))]"
            ],
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client4_s_ie401_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"e5e85c14-cf13-486a-aa4e-22fb4ffc2514\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.22",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigate1int-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": true,
                "enableIPForwarding": false,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_vmclient4siensg912_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_client4_s_ie_Nic2_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
            ],
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "Ipv4config",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client4_s_ie_Nic2_name')), '/ipConfigurations/Ipv4config')]",
                        "etag": "W/\"ad9d7e39-7332-416b-b03d-e4d89e916e83\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.46",
                            "privateIPAllocationMethod": "Dynamic",
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigateext-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": false,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_fortigate1_s_ie_Nic2_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
            ],
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate1_s_ie_Nic2_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"a31bb145-385f-4ea7-994b-cd8e83da55f6\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.20",
                            "privateIPAllocationMethod": "Static",
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigate1int-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": true,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_fortigate2_s_ie_Nic2_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
            ],
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate2_s_ie_Nic2_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"11714869-f1b6-4bed-bddb-8b5485a0a716\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.29",
                            "privateIPAllocationMethod": "Static",
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigate2int-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": true,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_fortigate3_s_ie_Nic2_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
            ],
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate3_s_ie_Nic2_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"060a0836-f967-478e-9596-54093ffed457\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.37",
                            "privateIPAllocationMethod": "Static",
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigate3int-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": true,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'), '/AllowAllInbound')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
            ],
            "properties": {
                "description": "Allow all in",
                "protocol": "*",
                "sourcePortRange": "*",
                "destinationPortRange": "*",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 100,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'), '/AllowAllOutbound')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
            ],
            "properties": {
                "description": "Allow all out",
                "protocol": "*",
                "sourcePortRange": "*",
                "destinationPortRange": "*",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 105,
                "direction": "Outbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('networkSecurityGroups_vm_client4_s_ie_nsg_name'), '/RDP')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_vm_client4_s_ie_nsg_name'))]"
            ],
            "properties": {
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "3389",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 300,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('networkSecurityGroups_vmclient4siensg912_name'), '/RDP')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_vmclient4siensg912_name'))]"
            ],
            "properties": {
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "3389",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 300,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            }
        },
        {
            "type": "Microsoft.Network/networkSecurityGroups/securityRules",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('networkSecurityGroups_vm_client1_s_ie_nsg_name'), '/SSH')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_vm_client1_s_ie_nsg_name'))]"
            ],
            "properties": {
                "protocol": "TCP",
                "sourcePortRange": "*",
                "destinationPortRange": "22",
                "sourceAddressPrefix": "*",
                "destinationAddressPrefix": "*",
                "access": "Allow",
                "priority": 300,
                "direction": "Inbound",
                "sourcePortRanges": [],
                "destinationPortRanges": [],
                "sourceAddressPrefixes": [],
                "destinationAddressPrefixes": []
            }
        },
        {
            "type": "Microsoft.Network/routeTables/routes",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name'), '/Default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/routeTables', parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name'))]"
            ],
            "properties": {
                "addressPrefix": "0.0.0.0/0",
                "nextHopType": "VirtualAppliance",
                "nextHopIpAddress": "10.207.176.20",
                "hasBgpOverride": false
            }
        },
        {
            "type": "Microsoft.Network/routeTables/routes",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name'), '/Default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/routeTables', parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name'))]"
            ],
            "properties": {
                "addressPrefix": "0.0.0.0/0",
                "nextHopType": "VirtualAppliance",
                "nextHopIpAddress": "10.207.176.37",
                "hasBgpOverride": false
            }
        },
        {
            "type": "Microsoft.Network/routeTables/routes",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name'), '/Subnet')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/routeTables', parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name'))]"
            ],
            "properties": {
                "addressPrefix": "10.207.176.16/29",
                "nextHopType": "VirtualAppliance",
                "nextHopIpAddress": "10.207.176.20",
                "hasBgpOverride": false
            }
        },
        {
            "type": "Microsoft.Network/routeTables/routes",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name'), '/Subnet')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/routeTables', parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name'))]"
            ],
            "properties": {
                "addressPrefix": "10.207.176.48/29",
                "nextHopType": "VnetLocal",
                "hasBgpOverride": false
            }
        },
        {
            "type": "Microsoft.Network/routeTables/routes",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name'), '/Subnet2')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/routeTables', parameters('routeTables_fgt_RouteTable_sn_fortigate1int_s_ie_name'))]"
            ],
            "properties": {
                "addressPrefix": "10.207.176.40/29",
                "nextHopType": "VirtualAppliance",
                "nextHopIpAddress": "10.207.176.20",
                "hasBgpOverride": false
            }
        },
        {
            "type": "Microsoft.Network/routeTables/routes",
            "apiVersion": "2022-11-01",
            "name": "[concat(parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name'), '/VirtualNetwork')]",
            "dependsOn": [
                "[resourceId('Microsoft.Network/routeTables', parameters('routeTables_fgt_RouteTable_sn_fortigate1protect_s_ie_name'))]"
            ],
            "properties": {
                "addressPrefix": "10.207.176.0/20",
                "nextHopType": "VirtualAppliance",
                "nextHopIpAddress": "10.207.176.37",
                "hasBgpOverride": false
            }
        },
        {
            "type": "Microsoft.SqlVirtualMachine/sqlVirtualMachines",
            "apiVersion": "2023-01-01-preview",
            "name": "[parameters('sqlVirtualMachines_vm_client4_s_ie_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_vm_client4_s_ie_name'))]"
            ],
            "properties": {
                "virtualMachineResourceId": "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_vm_client4_s_ie_name'))]",
                "sqlImageOffer": "SQL2017-WS2019",
                "sqlServerLicenseType": "PAYG",
                "sqlManagement": "LightWeight",
                "leastPrivilegeMode": "NotSet",
                "sqlImageSku": "Express",
                "enableAutomaticUpgrade": false
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/blobServices",
            "apiVersion": "2022-09-01",
            "name": "[concat(parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "sku": {
                "name": "Standard_LRS",
                "tier": "Standard"
            },
            "properties": {
                "cors": {
                    "corsRules": []
                },
                "deleteRetentionPolicy": {
                    "allowPermanentDelete": false,
                    "enabled": false
                }
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/fileServices",
            "apiVersion": "2022-09-01",
            "name": "[concat(parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "sku": {
                "name": "Standard_LRS",
                "tier": "Standard"
            },
            "properties": {
                "protocolSettings": {
                    "smb": {}
                },
                "cors": {
                    "corsRules": []
                },
                "shareDeleteRetentionPolicy": {
                    "enabled": true,
                    "days": 7
                }
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/queueServices",
            "apiVersion": "2022-09-01",
            "name": "[concat(parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "properties": {
                "cors": {
                    "corsRules": []
                }
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/tableServices",
            "apiVersion": "2022-09-01",
            "name": "[concat(parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '/default')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "properties": {
                "cors": {
                    "corsRules": []
                }
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "2023-03-01",
            "name": "[parameters('virtualMachines_vm_client4_s_ie_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client4_s_ie401_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client4_s_ie_Nic2_name'))]"
            ],
            "identity": {
                "type": "SystemAssigned"
            },
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_D2s_v3"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "MicrosoftWindowsServer",
                        "offer": "WindowsServer",
                        "sku": "2019-datacenter-gensecond",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Windows",
                        "name": "[concat(parameters('virtualMachines_vm_client4_s_ie_name'), '_disk1_aeadb4cbef8642b6a52532ea975492db')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_client4_s_ie_name'), '_disk1_aeadb4cbef8642b6a52532ea975492db'))]"
                        },
                        "deleteOption": "Delete"
                    },
                    "dataDisks": [],
                    "diskControllerType": "SCSI"
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_vm_client4_s_ie_name')]",
                    "adminUsername": "azure-user",
                    "windowsConfiguration": {
                        "provisionVMAgent": true,
                        "enableAutomaticUpdates": true,
                        "patchSettings": {
                            "patchMode": "AutomaticByOS",
                            "assessmentMode": "ImageDefault",
                            "enableHotpatching": false
                        },
                        "enableVMAgentPlatformUpdates": false
                    },
                    "secrets": [],
                    "allowExtensionOperations": true,
                    "requireGuestProvisionSignal": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client4_s_ie401_name'))]",
                            "properties": {
                                "primary": true,
                                "deleteOption": "Detach"
                            }
                        },
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_client4_s_ie_Nic2_name'))]",
                            "properties": {
                                "primary": false
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true
                    }
                }
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_fortigate1_s_ie_Nic1_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_pip_fortigate1_s_ie_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
            ],
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate1_s_ie_Nic1_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"433234e2-0127-4611-a53c-729d8df5f879\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.44",
                            "privateIPAllocationMethod": "Static",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_pip_fortigate1_s_ie_name'))]"
                            },
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigateext-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": true,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_fortigate2_s_ie_Nic1_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_pip_fortigate2_s_ie_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
            ],
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate2_s_ie_Nic1_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"a4b35439-0abd-4ab2-83a1-28c7995a665f\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.45",
                            "privateIPAllocationMethod": "Static",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_pip_fortigate2_s_ie_name'))]"
                            },
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigateext-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": true,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Network/networkInterfaces",
            "apiVersion": "2022-11-01",
            "name": "[parameters('networkInterfaces_vm_fortigate3_s_ie_Nic1_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_pip_fortigate3_s_ie_name'))]",
                "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
            ],
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "kind": "Regular",
            "properties": {
                "ipConfigurations": [
                    {
                        "name": "ipconfig1",
                        "id": "[concat(resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate3_s_ie_Nic1_name')), '/ipConfigurations/ipconfig1')]",
                        "etag": "W/\"bb3182db-1a72-4e16-a364-497b90b7b0ef\"",
                        "type": "Microsoft.Network/networkInterfaces/ipConfigurations",
                        "properties": {
                            "provisioningState": "Succeeded",
                            "privateIPAddress": "10.207.176.60",
                            "privateIPAllocationMethod": "Static",
                            "publicIPAddress": {
                                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_pip_fortigate3_s_ie_name'))]"
                            },
                            "subnet": {
                                "id": "[concat(parameters('virtualNetworks_vnet_infra_s_ie_externalid'), '/subnets/sn-fortigateext1-s-ie')]"
                            },
                            "primary": true,
                            "privateIPAddressVersion": "IPv4"
                        }
                    }
                ],
                "dnsSettings": {
                    "dnsServers": []
                },
                "enableAcceleratedNetworking": false,
                "enableIPForwarding": true,
                "disableTcpStateTracking": false,
                "networkSecurityGroup": {
                    "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_fgt_o4od7ut2sttkk_NSG_name'))]"
                },
                "nicType": "Standard"
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/blobServices/containers",
            "apiVersion": "2022-09-01",
            "name": "[concat(parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '/default/bootdiagnostics-vmfortiga-011b147f-f4f4-4c1e-8738-51f51e6c3691')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts/blobServices', parameters('storageAccounts_consoleo4od7ut2sttkk_name'), 'default')]",
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "properties": {
                "immutableStorageWithVersioning": {
                    "enabled": false
                },
                "defaultEncryptionScope": "$account-encryption-key",
                "denyEncryptionScopeOverride": false,
                "publicAccess": "None"
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/blobServices/containers",
            "apiVersion": "2022-09-01",
            "name": "[concat(parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '/default/bootdiagnostics-vmfortiga-25f79858-a4b0-4116-ab21-d83376413942')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts/blobServices', parameters('storageAccounts_consoleo4od7ut2sttkk_name'), 'default')]",
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "properties": {
                "immutableStorageWithVersioning": {
                    "enabled": false
                },
                "defaultEncryptionScope": "$account-encryption-key",
                "denyEncryptionScopeOverride": false,
                "publicAccess": "None"
            }
        },
        {
            "type": "Microsoft.Storage/storageAccounts/blobServices/containers",
            "apiVersion": "2022-09-01",
            "name": "[concat(parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '/default/bootdiagnostics-vmfortiga-40d7dbdf-2c22-4b7e-b543-646681a87546')]",
            "dependsOn": [
                "[resourceId('Microsoft.Storage/storageAccounts/blobServices', parameters('storageAccounts_consoleo4od7ut2sttkk_name'), 'default')]",
                "[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "properties": {
                "immutableStorageWithVersioning": {
                    "enabled": false
                },
                "defaultEncryptionScope": "$account-encryption-key",
                "denyEncryptionScopeOverride": false,
                "publicAccess": "None"
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "2023-03-01",
            "name": "[parameters('virtualMachines_vm_fortigate1_s_ie_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate1_s_ie_Nic1_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate1_s_ie_Nic2_name'))]",
                "[resourceId('Microsoft.Storage/StorageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "identity": {
                "type": "SystemAssigned"
            },
            "plan": {
                "name": "fortinet_fg-vm",
                "product": "fortinet_fortigate-vm_v5",
                "publisher": "fortinet"
            },
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS1_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "fortinet",
                        "offer": "fortinet_fortigate-vm_v5",
                        "sku": "fortinet_fg-vm",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Linux",
                        "name": "[concat(parameters('virtualMachines_vm_fortigate1_s_ie_name'), '_OsDisk_1_f92535b8c57a4e57a0e2c01c2640ab8d')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_fortigate1_s_ie_name'), '_OsDisk_1_f92535b8c57a4e57a0e2c01c2640ab8d'))]"
                        },
                        "deleteOption": "Detach"
                    },
                    "dataDisks": [
                        {
                            "lun": 0,
                            "name": "[concat(parameters('virtualMachines_vm_fortigate1_s_ie_name'), '_disk2_0ad6234d486a47ce8addaff87568a414')]",
                            "createOption": "Empty",
                            "caching": "None",
                            "managedDisk": {
                                "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_fortigate1_s_ie_name'), '_disk2_0ad6234d486a47ce8addaff87568a414'))]"
                            },
                            "deleteOption": "Detach",
                            "toBeDetached": false
                        }
                    ]
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_vm_fortigate1_s_ie_name')]",
                    "adminUsername": "fgtadmuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": false,
                        "provisionVMAgent": true,
                        "patchSettings": {
                            "patchMode": "ImageDefault",
                            "assessmentMode": "ImageDefault"
                        },
                        "enableVMAgentPlatformUpdates": false
                    },
                    "secrets": [],
                    "allowExtensionOperations": true,
                    "requireGuestProvisionSignal": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate1_s_ie_Nic1_name'))]",
                            "properties": {
                                "primary": true
                            }
                        },
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate1_s_ie_Nic2_name'))]",
                            "properties": {
                                "primary": false
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true,
                        "storageUri": "[concat('https://', parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '.blob.core.windows.net/')]"
                    }
                }
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "2023-03-01",
            "name": "[parameters('virtualMachines_vm_fortigate2_s_ie_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate2_s_ie_Nic1_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate2_s_ie_Nic2_name'))]",
                "[resourceId('Microsoft.Storage/StorageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "identity": {
                "type": "SystemAssigned"
            },
            "plan": {
                "name": "fortinet_fg-vm_payg_2022",
                "product": "fortinet_fortigate-vm_v5",
                "publisher": "fortinet"
            },
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS1_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "fortinet",
                        "offer": "fortinet_fortigate-vm_v5",
                        "sku": "fortinet_fg-vm_payg_2022",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Linux",
                        "name": "[concat(parameters('virtualMachines_vm_fortigate2_s_ie_name'), '_OsDisk_1_1ab9bf74b9674cb08b63c2ea0ffb8618')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_fortigate2_s_ie_name'), '_OsDisk_1_1ab9bf74b9674cb08b63c2ea0ffb8618'))]"
                        },
                        "deleteOption": "Detach"
                    },
                    "dataDisks": [
                        {
                            "lun": 0,
                            "name": "[concat(parameters('virtualMachines_vm_fortigate2_s_ie_name'), '_disk2_a948fad391a54592aa28201539585056')]",
                            "createOption": "Empty",
                            "caching": "None",
                            "managedDisk": {
                                "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_fortigate2_s_ie_name'), '_disk2_a948fad391a54592aa28201539585056'))]"
                            },
                            "deleteOption": "Detach",
                            "toBeDetached": false
                        }
                    ]
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_vm_fortigate2_s_ie_name')]",
                    "adminUsername": "fgtadmuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": false,
                        "provisionVMAgent": true,
                        "patchSettings": {
                            "patchMode": "ImageDefault",
                            "assessmentMode": "ImageDefault"
                        },
                        "enableVMAgentPlatformUpdates": false
                    },
                    "secrets": [],
                    "allowExtensionOperations": true,
                    "requireGuestProvisionSignal": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate2_s_ie_Nic1_name'))]",
                            "properties": {
                                "primary": true
                            }
                        },
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate2_s_ie_Nic2_name'))]",
                            "properties": {
                                "primary": false
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true,
                        "storageUri": "[concat('https://', parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '.blob.core.windows.net/')]"
                    }
                }
            }
        },
        {
            "type": "Microsoft.Compute/virtualMachines",
            "apiVersion": "2023-03-01",
            "name": "[parameters('virtualMachines_vm_fortigate3_s_ie_name')]",
            "location": "northeurope",
            "dependsOn": [
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate3_s_ie_Nic1_name'))]",
                "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate3_s_ie_Nic2_name'))]",
                "[resourceId('Microsoft.Storage/StorageAccounts', parameters('storageAccounts_consoleo4od7ut2sttkk_name'))]"
            ],
            "tags": {
                "provider": "6EB3B02F-50E5-4A3E-8CB8-2E12925831VM"
            },
            "identity": {
                "type": "SystemAssigned"
            },
            "plan": {
                "name": "fortinet_fg-vm_payg_2022",
                "product": "fortinet_fortigate-vm_v5",
                "publisher": "fortinet"
            },
            "properties": {
                "hardwareProfile": {
                    "vmSize": "Standard_DS1_v2"
                },
                "storageProfile": {
                    "imageReference": {
                        "publisher": "fortinet",
                        "offer": "fortinet_fortigate-vm_v5",
                        "sku": "fortinet_fg-vm_payg_2022",
                        "version": "latest"
                    },
                    "osDisk": {
                        "osType": "Linux",
                        "name": "[concat(parameters('virtualMachines_vm_fortigate3_s_ie_name'), '_OsDisk_1_4664e0d0c61848409752475a8d1e139b')]",
                        "createOption": "FromImage",
                        "caching": "ReadWrite",
                        "managedDisk": {
                            "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_fortigate3_s_ie_name'), '_OsDisk_1_4664e0d0c61848409752475a8d1e139b'))]"
                        },
                        "deleteOption": "Detach"
                    },
                    "dataDisks": [
                        {
                            "lun": 0,
                            "name": "[concat(parameters('virtualMachines_vm_fortigate3_s_ie_name'), '_disk2_6b88f514642544f9a22e36c44dc5f9c1')]",
                            "createOption": "Empty",
                            "caching": "None",
                            "managedDisk": {
                                "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_vm_fortigate3_s_ie_name'), '_disk2_6b88f514642544f9a22e36c44dc5f9c1'))]"
                            },
                            "deleteOption": "Detach",
                            "toBeDetached": false
                        }
                    ]
                },
                "osProfile": {
                    "computerName": "[parameters('virtualMachines_vm_fortigate3_s_ie_name')]",
                    "adminUsername": "fgtadmuser",
                    "linuxConfiguration": {
                        "disablePasswordAuthentication": false,
                        "provisionVMAgent": true,
                        "patchSettings": {
                            "patchMode": "ImageDefault",
                            "assessmentMode": "ImageDefault"
                        },
                        "enableVMAgentPlatformUpdates": false
                    },
                    "secrets": [],
                    "allowExtensionOperations": true,
                    "requireGuestProvisionSignal": true
                },
                "networkProfile": {
                    "networkInterfaces": [
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate3_s_ie_Nic1_name'))]",
                            "properties": {
                                "primary": true
                            }
                        },
                        {
                            "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_vm_fortigate3_s_ie_Nic2_name'))]",
                            "properties": {
                                "primary": false
                            }
                        }
                    ]
                },
                "diagnosticsProfile": {
                    "bootDiagnostics": {
                        "enabled": true,
                        "storageUri": "[concat('https://', parameters('storageAccounts_consoleo4od7ut2sttkk_name'), '.blob.core.windows.net/')]"
                    }
                }
            }
        }
    ]
}